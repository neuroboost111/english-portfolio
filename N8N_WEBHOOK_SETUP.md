# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ n8n Webhook –¥–ª—è —Ñ–æ—Ä–º—ã –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏

## –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å Workflow –≤ n8n

1. –û—Ç–∫—Ä–æ–π n8n
2. –°–æ–∑–¥–∞–π –Ω–æ–≤—ã–π workflow: "Portfolio Contact Form"
3. –î–æ–±–∞–≤—å –Ω–æ–¥—ã –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ—Ä—è–¥–∫–µ:

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ workflow:

```
Webhook ‚Üí Set (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ‚Üí Telegram ‚Üí Email (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) ‚Üí Respond to Webhook
```

## –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Webhook Node

1. –î–æ–±–∞–≤—å **Webhook** –Ω–æ–¥—É
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∏:
   - **HTTP Method**: POST
   - **Path**: `portfolio-contact` (–∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π)
   - **Authentication**: None (–∏–ª–∏ Basic Auth –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
   - **Response Mode**: "When Last Node Finishes"

3. –°–∫–æ–ø–∏—Ä—É–π **Production Webhook URL**
   - –ë—É–¥–µ—Ç —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ: `https://your-n8n-instance.com/webhook/portfolio-contact`

## –®–∞–≥ 3: –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö (Set Node - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–î–æ–±–∞–≤—å **Set** –Ω–æ–¥—É –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:

```json
{
  "values": {
    "clientName": "={{ $json.name }}",
    "clientEmail": "={{ $json.email }}",
    "clientPhone": "={{ $json.phone }}",
    "projectType": "={{ $json.projectType }}",
    "message": "={{ $json.message }}",
    "timestamp": "={{ $json.timestamp }}",
    "source": "={{ $json.source }}"
  }
}
```

## –®–∞–≥ 4: Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

–î–æ–±–∞–≤—å **Telegram** –Ω–æ–¥—É:

1. –ù–∞—Å—Ç—Ä–æ–π Telegram credentials (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ):
   - –°–æ–∑–¥–∞–π –±–æ—Ç–∞ —á–µ—Ä–µ–∑ @BotFather
   - –ü–æ–ª—É—á–∏ API Token
   - –£–∑–Ω–∞–π —Å–≤–æ–π Chat ID (–º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ @userinfobot)

2. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–æ–¥—ã:
   - **Resource**: Message
   - **Operation**: Send Message
   - **Chat ID**: —Ç–≤–æ–π Chat ID
   - **Text**:

```
üÜï –ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ —Å —Å–∞–π—Ç–∞!

üë§ –ò–º—è: {{ $json.name }}
üìß Email: {{ $json.email }}
üì± –¢–µ–ª–µ—Ñ–æ–Ω: {{ $json.phone }}

üíº –¢–∏–ø –ø—Ä–æ–µ–∫—Ç–∞: {{ $json.projectType }}

üí¨ –°–æ–æ–±—â–µ–Ω–∏–µ:
{{ $json.message }}

‚è∞ –í—Ä–µ–º—è: {{ $json.timestamp }}
```

## –®–∞–≥ 5: Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ —Ö–æ—á–µ—à—å –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –≤ email:

1. –î–æ–±–∞–≤—å **Send Email** –Ω–æ–¥—É
2. –ù–∞—Å—Ç—Ä–æ–π SMTP credentials
3. –ó–∞–ø–æ–ª–Ω–∏:
   - **To**: —Ç–≤–æ–π email
   - **Subject**: `–ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞: {{ $json.name }}`
   - **Text/HTML**: —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

## –®–∞–≥ 6: –û—Ç–≤–µ—Ç webhook (Respond to Webhook)

–î–æ–±–∞–≤—å **Respond to Webhook** –Ω–æ–¥—É:

```json
{
  "status": 200,
  "body": {
    "success": true,
    "message": "–°–ø–∞—Å–∏–±–æ! –í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—É—á–µ–Ω–æ."
  }
}
```

## –®–∞–≥ 7: –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –±–∞–∑—É (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ú–æ–∂–µ—à—å –¥–æ–±–∞–≤–∏—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤:
- **Airtable** - –¥–ª—è CRM
- **Google Sheets** - –ø—Ä–æ—Å—Ç–æ–π —É—á–µ—Ç
- **Supabase** - —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è –±–∞–∑–∞
- **Notion** - –±–∞–∑–∞ –∑–Ω–∞–Ω–∏–π

## –®–∞–≥ 8: –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å workflow

1. –°–æ—Ö—Ä–∞–Ω–∏ workflow
2. –ê–∫—Ç–∏–≤–∏—Ä—É–π –µ–≥–æ (toggle –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É)
3. –°–∫–æ–ø–∏—Ä—É–π Production Webhook URL

## –®–∞–≥ 9: –î–æ–±–∞–≤–∏—Ç—å URL –≤ –ø—Ä–æ–µ–∫—Ç

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–°–æ–∑–¥–∞–π —Ñ–∞–π–ª `.env.local` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

\`\`\`bash
NEXT_PUBLIC_N8N_WEBHOOK_URL=https://your-n8n-instance.com/webhook/portfolio-contact
\`\`\`

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ü—Ä—è–º–æ –≤ –∫–æ–¥–µ

–í —Ñ–∞–π–ª–µ `app/components/ContactForm.tsx` –∑–∞–º–µ–Ω–∏:

\`\`\`tsx
const webhookUrl = process.env.NEXT_PUBLIC_N8N_WEBHOOK_URL || "YOUR_N8N_WEBHOOK_URL";
\`\`\`

–Ω–∞:

\`\`\`tsx
const webhookUrl = "https://your-n8n-instance.com/webhook/portfolio-contact";
\`\`\`

## –®–∞–≥ 10: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ dev-—Å–µ—Ä–≤–µ—Ä (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å .env.local)
2. –û—Ç–∫—Ä–æ–π http://localhost:3001
3. –ó–∞–ø–æ–ª–Ω–∏ —Ñ–æ—Ä–º—É –∏ –æ—Ç–ø—Ä–∞–≤—å
4. –ü—Ä–æ–≤–µ—Ä—å:
   - –ü—Ä–∏—à–ª–æ –ª–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram
   - –ü—Ä–∏—à–ª–æ –ª–∏ –Ω–∞ email (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ)
   - –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ —Å–∞–π—Ç–µ

## –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ñ–∏—á–∏

### 1. –ê–Ω—Ç–∏-—Å–ø–∞–º –∑–∞—â–∏—Ç–∞

–î–æ–±–∞–≤—å **IF** –Ω–æ–¥—É –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
- Email –Ω–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å
- Honeypot –ø–æ–ª–µ
- Rate limiting (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤)

### 2. Auto-reply

–î–æ–±–∞–≤—å –æ—Ç–ø—Ä–∞–≤–∫—É –∞–≤—Ç–æ–æ—Ç–≤–µ—Ç–∞ –∫–ª–∏–µ–Ω—Ç—É:
- **Send Email** —Å –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç—å—é
- Telegram —Å–æ–æ–±—â–µ–Ω–∏–µ (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω username)

### 3. CRM –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–≤–∞–π:
- –°–¥–µ–ª–∫—É –≤ CRM
- –ó–∞–¥–∞—á—É –≤ Asana/ClickUp
- –ö–∞—Ä—Ç–æ—á–∫—É –≤ Notion

### 4. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Slack

–ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—à—å –≤ –∫–æ–º–∞–Ω–¥–µ:
- –î–æ–±–∞–≤—å **Slack** –Ω–æ–¥—É
- –û—Ç–ø—Ä–∞–≤–ª—è–π —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –∫–∞–Ω–∞–ª

### 5. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–æ—Ö—Ä–∞–Ω—è–π –≤—Å–µ –∑–∞—è–≤–∫–∏ –≤:
- Google Sheets –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- Database –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏

## –ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–≥–æ workflow

\`\`\`
Webhook (POST)
  ‚Üì
IF (–ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–ø–∞–º)
  ‚Üì true
  ‚Üì
Set (—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
  ‚Üì
  ‚îú‚Üí Telegram (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Ç–µ–±–µ)
  ‚îú‚Üí Email (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Ç–µ–±–µ)
  ‚îú‚Üí Send Email (–∞–≤—Ç–æ–æ—Ç–≤–µ—Ç –∫–ª–∏–µ–Ω—Ç—É)
  ‚îú‚Üí Google Sheets (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
  ‚îî‚Üí Airtable (CRM)
  ‚Üì
Respond to Webhook (—É—Å–ø–µ—Ö)

  ‚Üì false (—Å–ø–∞–º)
Respond to Webhook (–æ—Ç–∫–ª–æ–Ω–µ–Ω–æ)
\`\`\`

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

1. **–ò—Å–ø–æ–ª—å–∑—É–π HTTPS** –¥–ª—è n8n
2. **Basic Auth** –Ω–∞ webhook (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
3. **Rate limiting** - –æ–≥—Ä–∞–Ω–∏—á—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
4. **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** - –ø—Ä–æ–≤–µ—Ä—è–π –≤—Ö–æ–¥—è—â–∏–µ –¥–∞–Ω–Ω—ã–µ
5. **CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** - —Ä–∞–∑—Ä–µ—à–∏ —Ç–æ–ª—å–∫–æ —Å–≤–æ–π –¥–æ–º–µ–Ω

### –î–æ–±–∞–≤–∏—Ç—å Basic Auth:

–í n8n webhook –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö:
- Enable Authentication
- Username: `portfolio`
- Password: `—Å–ª–æ–∂–Ω—ã–π_–ø–∞—Ä–æ–ª—å`

–í –∫–æ–¥–µ:

\`\`\`tsx
const response = await fetch(webhookUrl, {
  method: "POST",
  headers: {
    "Content-Type": "application/json",
    "Authorization": "Basic " + btoa("portfolio:—Å–ª–æ–∂–Ω—ã–π_–ø–∞—Ä–æ–ª—å")
  },
  body: JSON.stringify(formData),
});
\`\`\`

## –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–°–ª–µ–¥–∏ –∑–∞:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∑–∞—è–≤–æ–∫
- –í—Ä–µ–º–µ–Ω–µ–º –æ—Ç–≤–µ—Ç–∞
- –û—à–∏–±–∫–∞–º–∏ webhook

–ú–æ–∂–µ—à—å –¥–æ–±–∞–≤–∏—Ç—å –¥–∞—à–±–æ—Ä–¥ –≤ n8n –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –º–µ—Ç—Ä–∏–∫.

---

**–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å —É —Ç–µ–±—è –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∞—è —Ñ–æ—Ä–º–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ —Å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ n8n. üöÄ

–í–æ–ø—Ä–æ—Å—ã? –ü–∏—à–∏ –≤ Telegram: @kronlain_neuroboost
